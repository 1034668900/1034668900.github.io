<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.61">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo.png"><title>FengCh</title><meta name="description" content="欢迎来到我的博客网站 !">
    <link rel="preload" href="/assets/style-c8afb295.css" as="style"><link rel="stylesheet" href="/assets/style-c8afb295.css">
    <link rel="modulepreload" href="/assets/app-e588e973.js"><link rel="modulepreload" href="/assets/framework-6700cb35.js"><link rel="modulepreload" href="/assets/Vue3.html-98f540bf.js"><link rel="modulepreload" href="/assets/Vue3.html-26541090.js"><link rel="prefetch" href="/assets/index.html-b31938f6.js" as="script"><link rel="prefetch" href="/assets/index.html-1264f517.js" as="script"><link rel="prefetch" href="/assets/事件循环.html-9e6ed603.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-c2171165.js" as="script"><link rel="prefetch" href="/assets/git基础知识.html-86dcadf3.js" as="script"><link rel="prefetch" href="/assets/webpack.html-8f7b1f4e.js" as="script"><link rel="prefetch" href="/assets/Ajax使用.html-d82bb700.js" as="script"><link rel="prefetch" href="/assets/Axios简介.html-719e9f19.js" as="script"><link rel="prefetch" href="/assets/Fetch简介.html-259dabb3.js" as="script"><link rel="prefetch" href="/assets/js浅拷贝和深拷贝.html-7f65ecb6.js" as="script"><link rel="prefetch" href="/assets/pinia-store简介.html-c4b1e7f0.js" as="script"><link rel="prefetch" href="/assets/Vue事件.html-c0a7bab9.js" as="script"><link rel="prefetch" href="/assets/Vue基础.html-b7b415a3.js" as="script"><link rel="prefetch" href="/assets/一图了解原型链.html-ba0ac42c.js" as="script"><link rel="prefetch" href="/assets/Vue2.html-59f3ad44.js" as="script"><link rel="prefetch" href="/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/assets/index.html-c2d5331a.js" as="script"><link rel="prefetch" href="/assets/index.html-cbaf4539.js" as="script"><link rel="prefetch" href="/assets/事件循环.html-7cf8b756.js" as="script"><link rel="prefetch" href="/assets/计算机网络.html-deb96cf3.js" as="script"><link rel="prefetch" href="/assets/git基础知识.html-14c0d5ce.js" as="script"><link rel="prefetch" href="/assets/webpack.html-90758e0e.js" as="script"><link rel="prefetch" href="/assets/Ajax使用.html-fa06058f.js" as="script"><link rel="prefetch" href="/assets/Axios简介.html-dd12d507.js" as="script"><link rel="prefetch" href="/assets/Fetch简介.html-884585fb.js" as="script"><link rel="prefetch" href="/assets/js浅拷贝和深拷贝.html-8b082d36.js" as="script"><link rel="prefetch" href="/assets/pinia-store简介.html-30a06c19.js" as="script"><link rel="prefetch" href="/assets/Vue事件.html-32352b0d.js" as="script"><link rel="prefetch" href="/assets/Vue基础.html-4a944c48.js" as="script"><link rel="prefetch" href="/assets/一图了解原型链.html-6ed1d1a9.js" as="script"><link rel="prefetch" href="/assets/Vue2.html-526d1961.js" as="script"><link rel="prefetch" href="/assets/404.html-85eb4967.js" as="script"><link rel="prefetch" href="/assets/Home-cc057463.js" as="script"><link rel="prefetch" href="/assets/HomeButton-e7f0fea2.js" as="script"><link rel="prefetch" href="/assets/SelfIntro-03d395f3.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><img class="logo" src="/logo.png" alt="FengCh"><span class="site-name can-hide">FengCh</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="myProjects"><span class="title">myProjects</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="myProjects"><span class="title">myProjects</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/1034668900/Lyrics-scrolling-effect.git" rel="noopener noreferrer" target="_blank" aria-label="歌词滚动效果"><!--[--><!--]--> 歌词滚动效果 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/1034668900/ShoppingCart-Effect.git" rel="noopener noreferrer" target="_blank" aria-label="原生js面向对象编程思想实现购物车效果"><!--[--><!--]--> 原生js面向对象编程思想实现购物车效果 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/Feng_Ch/uni-shop.git" rel="noopener noreferrer" target="_blank" aria-label="购物商城微信小程序"><!--[--><!--]--> 购物商城微信小程序 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/1034668900/shopping-mall-project.git" rel="noopener noreferrer" target="_blank" aria-label="购物商城前台项目"><!--[--><!--]--> 购物商城前台项目 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue"><span class="title">Vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue"><span class="title">Vue</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/vue/Vue2.md" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/vue/Vue3.md" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Tools"><span class="title">Tools</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Tools"><span class="title">Tools</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/tools/webpack.md" class="" aria-label="webpack"><!--[--><!--]--> webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/tools/git基础知识.md" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Browser"><span class="title">Browser</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Browser"><span class="title">Browser</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/browser/事件循环.md" class="" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/browser/计算机网络.md" class="" aria-label="计算机网络"><!--[--><!--]--> 计算机网络 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="MyBlogs"><span class="title">MyBlogs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="MyBlogs"><span class="title">MyBlogs</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/pinia-store简介.md" class="" aria-label="pinia-store简介"><!--[--><!--]--> pinia-store简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Vue事件.md" class="" aria-label="Vue事件"><!--[--><!--]--> Vue事件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Vue基础.md" class="" aria-label="Vue基础"><!--[--><!--]--> Vue基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/js浅拷贝和深拷贝.md" class="" aria-label="js浅拷贝和深拷贝"><!--[--><!--]--> js浅拷贝和深拷贝 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Ajax使用.md" class="" aria-label="Ajax使用"><!--[--><!--]--> Ajax使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Fetch简介.md" class="" aria-label="Fetch简介"><!--[--><!--]--> Fetch简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Axios简介.md" class="" aria-label="Axios简介"><!--[--><!--]--> Axios简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/一图了解原型链.md" class="" aria-label="一图了解原型链"><!--[--><!--]--> 一图了解原型链 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/1034668900/1034668900.github.io.git" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/" class="" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="myProjects"><span class="title">myProjects</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="myProjects"><span class="title">myProjects</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/1034668900/Lyrics-scrolling-effect.git" rel="noopener noreferrer" target="_blank" aria-label="歌词滚动效果"><!--[--><!--]--> 歌词滚动效果 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/1034668900/ShoppingCart-Effect.git" rel="noopener noreferrer" target="_blank" aria-label="原生js面向对象编程思想实现购物车效果"><!--[--><!--]--> 原生js面向对象编程思想实现购物车效果 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://gitee.com/Feng_Ch/uni-shop.git" rel="noopener noreferrer" target="_blank" aria-label="购物商城微信小程序"><!--[--><!--]--> 购物商城微信小程序 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a class="external-link" href="https://github.com/1034668900/shopping-mall-project.git" rel="noopener noreferrer" target="_blank" aria-label="购物商城前台项目"><!--[--><!--]--> 购物商城前台项目 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Vue"><span class="title">Vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Vue"><span class="title">Vue</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/vue/Vue2.md" class="" aria-label="Vue2"><!--[--><!--]--> Vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/vue/Vue3.md" class="" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Tools"><span class="title">Tools</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Tools"><span class="title">Tools</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/tools/webpack.md" class="" aria-label="webpack"><!--[--><!--]--> webpack <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/tools/git基础知识.md" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Browser"><span class="title">Browser</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Browser"><span class="title">Browser</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/browser/事件循环.md" class="" aria-label="事件循环"><!--[--><!--]--> 事件循环 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/browser/计算机网络.md" class="" aria-label="计算机网络"><!--[--><!--]--> 计算机网络 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="MyBlogs"><span class="title">MyBlogs</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="MyBlogs"><span class="title">MyBlogs</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/pinia-store简介.md" class="" aria-label="pinia-store简介"><!--[--><!--]--> pinia-store简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Vue事件.md" class="" aria-label="Vue事件"><!--[--><!--]--> Vue事件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Vue基础.md" class="" aria-label="Vue基础"><!--[--><!--]--> Vue基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/js浅拷贝和深拷贝.md" class="" aria-label="js浅拷贝和深拷贝"><!--[--><!--]--> js浅拷贝和深拷贝 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Ajax使用.md" class="" aria-label="Ajax使用"><!--[--><!--]--> Ajax使用 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Fetch简介.md" class="" aria-label="Fetch简介"><!--[--><!--]--> Fetch简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/Axios简介.md" class="" aria-label="Axios简介"><!--[--><!--]--> Axios简介 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/guide/blogs/myblogs/一图了解原型链.md" class="" aria-label="一图了解原型链"><!--[--><!--]--> 一图了解原型链 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/1034668900/1034668900.github.io.git" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading"> <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#vue3" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue3"><!--[--><!--]--> Vue3 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#vue3和vue2的不同点" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue3和Vue2的不同点"><!--[--><!--]--> Vue3和Vue2的不同点 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#vue2和vue3响应式原理对比" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue2和Vue3响应式原理对比"><!--[--><!--]--> Vue2和Vue3响应式原理对比 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#computed计算属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="computed计算属性"><!--[--><!--]--> computed计算属性 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#watch函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="watch函数"><!--[--><!--]--> watch函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#watcheffect函数" class="router-link-active router-link-exact-active sidebar-item" aria-label="watchEffect函数"><!--[--><!--]--> watchEffect函数 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#生命周期" class="router-link-active router-link-exact-active sidebar-item" aria-label="生命周期"><!--[--><!--]--> 生命周期 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#自定义hook" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义hook"><!--[--><!--]--> 自定义hook <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#toref-和-torefs" class="router-link-active router-link-exact-active sidebar-item" aria-label="toRef 和 toRefs"><!--[--><!--]--> toRef 和 toRefs <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#shallowreactive-和-shallowref" class="router-link-active router-link-exact-active sidebar-item" aria-label="shallowReactive 和 shallowRef"><!--[--><!--]--> shallowReactive 和 shallowRef <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#readonly-与-shallowreadonly" class="router-link-active router-link-exact-active sidebar-item" aria-label="readonly 与 shallowReadonly"><!--[--><!--]--> readonly 与 shallowReadonly <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#toraw-与-markraw" class="router-link-active router-link-exact-active sidebar-item" aria-label="toRaw 与 markRaw"><!--[--><!--]--> toRaw 与 markRaw <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#自定义ref-customref" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义ref - customRef"><!--[--><!--]--> 自定义ref - customRef <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#组件通信-provide-与-inject" class="router-link-active router-link-exact-active sidebar-item" aria-label="组件通信 - provide 与 inject"><!--[--><!--]--> 组件通信 - provide 与 inject <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#响应式数据的判断" class="router-link-active router-link-exact-active sidebar-item" aria-label="响应式数据的判断"><!--[--><!--]--> 响应式数据的判断 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#composition-api-的优势" class="router-link-active router-link-exact-active sidebar-item" aria-label="Composition API 的优势"><!--[--><!--]--> Composition API 的优势 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#新的组件" class="router-link-active router-link-exact-active sidebar-item" aria-label="新的组件"><!--[--><!--]--> 新的组件 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/guide/blogs/vue/Vue3.html#vue3其他改变" class="router-link-active router-link-exact-active sidebar-item" aria-label="Vue3其他改变"><!--[--><!--]--> Vue3其他改变 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="vue3" tabindex="-1"><a class="header-anchor" href="#vue3" aria-hidden="true">#</a> Vue3</h2><h3 id="vue3和vue2的不同点" tabindex="-1"><a class="header-anchor" href="#vue3和vue2的不同点" aria-hidden="true">#</a> Vue3和Vue2的不同点</h3><h4 id="工程结构" tabindex="-1"><a class="header-anchor" href="#工程结构" aria-hidden="true">#</a> 工程结构</h4><ul><li><p>在main.js中，Vue3通过<code>createApp</code>函数来创建一个<strong>类似</strong>Vue2中的<code>vm</code>的应用实例对象<code>app</code></p><ol><li><p><code>app</code>实例对象和<code>vm</code>相比内部包含的属性和方法变少</p></li><li><p>在Vue3项目中，已经<strong>不能从vue中引入Vue</strong>来创建<code>vm</code>实例了</p></li></ol></li><li><p>在Vue2项目的<code>template</code>模板中，<strong>必须</strong>有一个根标签,但是在Vue3项目中<strong>可以没有</strong>根标签</p></li></ul><h4 id="响应式核心" tabindex="-1"><a class="header-anchor" href="#响应式核心" aria-hidden="true">#</a> 响应式核心</h4><ol><li><p><strong>setup</strong></p><ol><li>是Vue3.0中一个新的配置项，值为一个<strong>函数</strong></li><li>组件中所用到的：数据、方法等等，<strong>均要配置在setup中</strong>，所以setup配置项是组合式API的基本</li><li>setup函数的<strong>两种</strong>返回值： <ol><li><strong>若返回一个对象，则对象中的属性、方法, 在模板中均可以直接使用</strong>。（重点关注！）</li><li><em>若返回一个渲染函数：则可以自定义渲染内容</em>。（了解）</li></ol></li><li><strong>注意事项：</strong><ol><li>在Vue3的项目中仍然可以以Vue2的方式书写<code>data、methods、computed...</code>等配置项 <ol><li>这些配置项内部的数据<strong>依然</strong>可以在模板中直接访问</li><li>这些配置项内部<strong>可以</strong>正常访问到<strong>setup配置项</strong>内部的数据</li><li>但是在setup配置项中<strong>无法访问</strong><code>data、methods、computed...</code>等配置项内部的数据</li></ol></li><li>如果<code>data、methods、computed...</code>等配置项内部的数据和setup配置项中的数据<strong>有重名情况</strong>，<strong>以setup配置项为主</strong></li><li><strong>setup</strong>不能是一个<strong>async</strong>函数，因为<strong>async函数</strong>的<strong>返回值不是一个对象</strong>，而是一个<strong>Promise</strong>！！！(<code>后期也可以返回一个Promise实例，但是需要Suspense和异步引入</code>)</li><li>**总结：**Vue2的配置项别在Vue3中混用</li><li>Vue3中使用具名插槽时尽量使用<code>v-slot : 名字</code>的形式取名，这样在context上下文里的<code>slots</code>里接收到时才有名字，如果仍然使用vue2的<code>slot = &quot;名字&quot;</code>的形式，即使使用的是具名插槽，接收到的也还是<code>default</code>，看不到名字</li></ol></li><li><strong>setup的执行时机：</strong><ul><li>在<code>beforeCreate</code><strong>之前</strong>执行<strong>一次</strong>，this是<code>undefined</code></li></ul></li><li><strong>setup的参数(2个)：</strong><ol><li>props：值为对象，包含：组件外部传递过来，且组件内部声明接收了的属性</li><li>context：上下文对象 <ol><li>attrs: 值为对象，包含：组件外部传递过来，但<strong>没有在props配置中声明的属性</strong>, 相当于 <code>this.$attrs</code></li><li>slots: 收到的插槽内容, 相当于 <code>this.$slots</code></li><li>emit: 分发自定义事件的函数, 相当于 <code>this.$emit</code></li></ol></li></ol></li></ol></li><li><p><strong>ref函数</strong></p><ul><li><p>在Vue2中有一个<strong>ref属性</strong>，通过这个属性可以给一个元素打上标记，然后可以通过<code>this.$refs.xxx</code>拿到该元素对象，在Vue3中<strong>仍然可以使用该ref属性</strong>，但是得借助Vue3中的<strong>ref函数</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1 ref<span class="token operator">=</span><span class="token string">&quot;hi&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;getRef&quot;</span><span class="token operator">&gt;</span>点我一下<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>ref<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;FC&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> hi <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
    <span class="token keyword">function</span> <span class="token function">getRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>hi<span class="token punctuation">.</span>value<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> getRef<span class="token punctuation">,</span>hi <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>通过ref函数创建的<strong>响应式数据</strong>是一个**引用对象！- 简称 ref 对象 - (RefImpl) ** -- reference(引用) -- implement(执行、实现)</p></li><li><p><strong>ref 对象是可更改的</strong>，也就是说你可以为 <code>.value</code> 赋予新的值。它也是响应式的，即所有对 <code>.value</code> 的操作都将被追踪，并且写操作会触发与之相关的副作用</p></li><li><p>通过<strong>ref函数</strong>创建的响应式数据在模板里使用时<strong>不用</strong>加<code>.value</code>,但是在<code>script</code>标签内使用时需要加</p></li><li><p>如果<strong>将一个对象赋值给 ref函数</strong>，那么这个对象将通过 <a href="https://cn.vuejs.org/api/reactivity-core.html#reactive" target="_blank" rel="noopener noreferrer">reactive()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 转为具有深层次响应式的对象。这也意味着如果对象中包含了嵌套的 ref，它们将被深层地解包，若要避免这种深层次的转换,可以使用 <a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowref" target="_blank" rel="noopener noreferrer"><code>shallowRef()</code><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 来替代。</p></li><li><p><strong>ref实现响应式的原理：</strong></p><ul><li>传入<strong>基本数据类型</strong>时： <ul><li>利用<strong>Object.defineProperty</strong>以及<strong>getter</strong>和<strong>setter</strong>实现<strong>数据劫持</strong>，从而实现响应式</li></ul></li><li>传入<strong>引用数据类型</strong>时： <ul><li>这个对象将通过 <a href="https://cn.vuejs.org/api/reactivity-core.html#reactive" target="_blank" rel="noopener noreferrer">reactive()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 转为具有深层次响应式的对象</li></ul></li></ul></li></ul></li><li><p><strong>reactive函数</strong></p><ul><li><p>返回一个<strong>对象</strong>的<strong>响应式代理</strong> -- <strong>Proxy对象</strong>。返回的对象以及其中嵌套的对象都会通过 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener noreferrer">ES Proxy<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 包裹，因此<strong>不等于</strong>源对象，建议只使用响应式代理，避免使用原始对象。<strong>基本数据类型不要用它</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;fc&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token string">&#39;21&#39;</span>
<span class="token punctuation">}</span>
<span class="token comment">// p1--代理对象     person--源对象</span>
<span class="token keyword">let</span> p1 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>响应式转换是“<strong>深层</strong>”的：它会影响到<strong>所有嵌套的属性</strong>。若要避免深层响应式转换，只想保留对这个对象顶层次访问的响应性，可以使用 <a href="https://cn.vuejs.org/api/reactivity-advanced.html#shallowreactive" target="_blank" rel="noopener noreferrer">shallowReactive()<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 作替代</p></li></ul></li><li><p><strong>ref和reactive对比：</strong></p><ul><li>从定义数据角度对比： <ol><li>ref用来定义：<strong>基本类型数据</strong></li><li>reactive用来定义：<strong>对象（或数组）类型数据</strong></li><li>备注：ref也可以用来定义<strong>对象（或数组）类型数据</strong>, 它内部会自动通过<code>reactive</code>转为<strong>代理对象</strong></li></ol></li><li>从原理角度对比： <ol><li>ref通过<code>Object.defineProperty()</code>的<code>get</code>与<code>set</code>来实现响应式（数据劫持）</li><li>reactive通过使用<strong>Proxy</strong>来实现响应式（数据劫持）, 并通过<strong>Reflect</strong>操作<strong>源对象</strong>内部的数据</li></ol></li><li>从使用角度对比： <ol><li>ref定义的数据：操作数据<strong>需要</strong><code>.value</code>，读取数据时模板中直接读取<strong>不需要</strong><code>.value</code></li><li>reactive定义的数据：操作数据与读取数据：<strong>均不需要</strong><code>.value</code></li></ol></li></ul></li></ol><h3 id="vue2和vue3响应式原理对比" tabindex="-1"><a class="header-anchor" href="#vue2和vue3响应式原理对比" aria-hidden="true">#</a> Vue2和Vue3响应式原理对比</h3><ul><li>Vue2中想对一个对象添加一个响应式属性有两种途径： <ul><li>通过调用vc实例身上的$set方法：<code>this.$set(给哪个对象添加, 添加的属性名, 属性值)</code></li><li>通过Vue身上的set方法: <code>Vue.set(给哪个对象添加, 添加的属性名, 属性值)</code></li></ul></li></ul><h4 id="vue2响应式实现原理" tabindex="-1"><a class="header-anchor" href="#vue2响应式实现原理" aria-hidden="true">#</a> Vue2响应式实现原理</h4><ol><li><p><strong>对象类型</strong>：通过<code>Object.defineProperty()</code>对属性的读取、修改进行拦截（数据劫持）</p></li><li><p><strong>数组类型</strong>：通过重写更新数组的一系列方法来实现拦截。（对数组的变更方法进行了包裹）</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token string">&#39;count&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">get</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token function">set</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><ul><li><p><strong>存在问题：</strong></p><ol><li>新增属性、删除属性, 界面不会更新 <ul><li>但也可以通过<code>this.$set | Vue.set 或 this.$delete | Vue.delete</code>解决</li></ul></li><li>直接通过下标修改数组, 界面不会自动更新(getter和setter监测不到) <ul><li>只有通过对数组包裹后的变更方法<code>push、shift、pop、push、unshift...</code>等修改的数组才能被Vue所监测到</li><li>但也可以通过<code>this.$set | Vue.set 或 this.$delete | Vue.delete</code>解决</li></ul></li></ol></li></ul><h4 id="vue3响应式原理实现" tabindex="-1"><a class="header-anchor" href="#vue3响应式原理实现" aria-hidden="true">#</a> Vue3响应式原理实现</h4><ul><li><p><strong>实现原理</strong>：</p><ol><li><p>通过<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy" target="_blank" rel="noopener noreferrer">Proxy<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>（代理）: 拦截对象中任意属性的变化, 包括：属性值的读写、属性的添加、属性的删除等</p></li><li><p>通过<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Reflect" target="_blank" rel="noopener noreferrer">Reflect<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>（反射）: 对源对象的属性进行操作</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 简易实现</span>
<span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token punctuation">{</span>
	<span class="token comment">// 拦截读取属性值</span>
    <span class="token function">get</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 拦截设置属性值或添加新属性</span>
    <span class="token function">set</span> <span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 拦截删除属性</span>
    <span class="token function">deleteProperty</span> <span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> prop</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    	<span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">deleteProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><ul><li>为什么使用<strong>Reflect</strong>? <ol><li>Reflect有着和Object差不多的功能，但是<strong>Reflect每次操作都会返回此次操作是否成功的结果</strong>，这对框架的封装有着至关重要的作用</li><li>利用Object时只能利用try catch来捕获Object操作的结果，这样封装的代码非常混乱，不够简洁</li></ol></li></ul></li></ul><h3 id="computed计算属性" tabindex="-1"><a class="header-anchor" href="#computed计算属性" aria-hidden="true">#</a> computed计算属性</h3><ul><li><p>在Vue3中依然可以像Vue2那样定义计算属性，但是不推荐</p></li><li><p>Vue3中计算属性的使用方法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>computed<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>

<span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
	<span class="token comment">//计算属性——简写</span>
    <span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&#39;-&#39;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//计算属性——完整</span>
    <span class="token keyword">let</span> fullName <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> person<span class="token punctuation">.</span>firstName <span class="token operator">+</span> <span class="token string">&#39;-&#39;</span> <span class="token operator">+</span> person<span class="token punctuation">.</span>lastName
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> nameArr <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;-&#39;</span><span class="token punctuation">)</span>
            person<span class="token punctuation">.</span>firstName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
            person<span class="token punctuation">.</span>lastName <span class="token operator">=</span> nameArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="watch函数" tabindex="-1"><a class="header-anchor" href="#watch函数" aria-hidden="true">#</a> watch函数</h3><ul><li>与Vue2中watch配置功能一致,但是在<strong>Vue2中watch是一个配置属性</strong>，只能书写一次，而在<strong>Vue3中watch是一个组合式API函数</strong>，可以重复书写</li><li>存在的两个问题( vue 3.3.2 仍存在)： <ul><li>监视<strong>reactive定义的响应式数据</strong>时：<strong>oldValue无法正确获取</strong>、<strong>强制开启了深度监视</strong>（deep配置失效）</li><li>监视<strong>reactive定义的响应式数据中某个属性</strong>时：deep配置有效 <ul><li><strong>直接在watch函数的第一个参数写响应式数据中的某个属性(<code>person.age</code>)不行，因为它不是一个ref定义的属性或reactive定义的对象</strong>，这种情况得将监视**得将响应式数据中的某个属性作为函数的返回值返回(<code>()=&gt;person.age</code>)**存在于第一个参数才有效</li></ul></li></ul></li><li>**官方说明：**在深层级模式时，如果回调函数由于深层级的变更而被触发，那么新值和旧值将是同一个对象。当直接侦听一个响应式对象时，侦听器会自动启用深层模式</li><li><strong>watch监听ref定义的对象是否要写<code>.value</code>的问题-两种解决办法</strong>： <ul><li><strong>方法一：需要</strong>写才能正常监听，为什么？因为当不写<code>.value</code>时，watch确实能监听到整个<code>ref对象 RefImpl</code>，但是我们的数据是存在于<code>ref对象</code>的<code>.value</code>里的，而且其值是一个对象，因此这种情况时我们<strong>只有</strong>修改了整个对象其地址才会改变，<strong>才</strong>能被watch监听到，单单修改对象内部的属性时，其在内存中的地址是不会改变的，因此这种情况watch监听不到</li><li><strong>方法二：</strong> <strong>开启深度监视</strong>，开启深度监视后，<code>ref对象</code>内部的<code>.value</code>属性即使是一个对象(而且是一个<strong>Proxy对象</strong>)也能被正常监测到</li></ul></li><li><strong>watch监视的多种情况：</strong></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//情况一：监视ref定义的响应式数据</span>
<span class="token function">watch</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;sum变化了&#39;</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">immediate</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//情况二：监视多个ref定义的响应式数据</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span>sum<span class="token punctuation">,</span>msg<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;sum或msg变化了&#39;</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> 

<span class="token comment">/* 情况三：监视reactive定义的响应式数据
			若watch监视的是reactive定义的响应式数据，则无法正确获得oldValue！！
			若watch监视的是reactive定义的响应式数据，则强制开启了深度监视 
*/</span>
<span class="token function">watch</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;person变化了&#39;</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">immediate</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//此处的deep配置不再奏效</span>

<span class="token comment">//情况四：监视reactive定义的响应式数据中的某个属性</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>person<span class="token punctuation">.</span>job<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;person的job变化了&#39;</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">immediate</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span> 

<span class="token comment">//情况五：监视reactive定义的响应式数据中的某些属性</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>person<span class="token punctuation">.</span>job<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>person<span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;person的job变化了&#39;</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">immediate</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//特殊情况</span>
<span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span>person<span class="token punctuation">.</span>job<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;person的job变化了&#39;</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">deep</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">//此处由于监视的是reactive所定义的对象中的某个属性，所以deep配置有效</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="watcheffect函数" tabindex="-1"><a class="header-anchor" href="#watcheffect函数" aria-hidden="true">#</a> watchEffect函数</h3><ul><li>watch的套路是：既要指明监视的属性，也要指明监视的回调</li><li>watchEffect的套路是：不用指明监视哪个属性，监视的回调中用到哪个属性，那就监视哪个属性,即<strong>watchEffect所执行的回调中所依赖的数据只要发生变化，整个watchEffect函数就会重新执行一次</strong></li><li>watchEffect有点像computed <ul><li>但computed注重的计算出来的值（回调函数的返回值），所以必须要写返回值</li><li>而watchEffect更注重的是过程（回调函数的函数体），所以不用写返回值</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//watchEffect所指定的回调中用到的数据只要发生变化，则直接重新执行回调。</span>
<span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token keyword">const</span> x1 <span class="token operator">=</span> sum<span class="token punctuation">.</span>value
    <span class="token keyword">const</span> x2 <span class="token operator">=</span> person<span class="token punctuation">.</span>age
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;watchEffect配置的回调执行了&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="生命周期" tabindex="-1"><a class="header-anchor" href="#生命周期" aria-hidden="true">#</a> 生命周期</h3><ul><li>在Vue3里面不再提组件销毁，而是<strong>组件卸载</strong></li></ul><h4 id="图示" tabindex="-1"><a class="header-anchor" href="#图示" aria-hidden="true">#</a> 图示</h4><p><img src="/images/vue3/lifecycle.png" alt="生命周期图示"></p><h4 id="生命周期钩子的改变" tabindex="-1"><a class="header-anchor" href="#生命周期钩子的改变" aria-hidden="true">#</a> 生命周期钩子的改变</h4><ul><li>Vue3.0中可以继续使用Vue2.x中的生命周期钩子，但有有两个被更名： <ul><li>beforeDestroy改名为 beforeUnmount</li><li>destroyed改名为 unmounted</li></ul></li><li>Vue3.0也提供了 Composition API 形式的生命周期钩子，与Vue2.x中钩Q子对应关系如下： <ul><li>beforeCreate ===&gt;setup()</li><li>created == ====&gt;setup()</li><li>beforeMount ===&gt;onBeforeMount</li><li>mounted == === ==&gt;onMounted</li><li>beforeUpdate===&gt;onBeforeUpdate</li><li>updated === == = =&gt;onUpdated</li><li>beforeUnmount ==&gt;onBeforeUnmount</li><li>unmounted === ==&gt;onUnmounted</li></ul></li></ul><h3 id="自定义hook" tabindex="-1"><a class="header-anchor" href="#自定义hook" aria-hidden="true">#</a> 自定义hook</h3><ul><li>什么是hook？—— 本质是一个函数，把setup函数中使用的Composition API进行了封装</li><li>类似于vue2.x中的mixin</li><li>自定义hook的优势: 复用代码, 让setup中的逻辑更清楚易懂</li></ul><h3 id="toref-和-torefs" tabindex="-1"><a class="header-anchor" href="#toref-和-torefs" aria-hidden="true">#</a> toRef 和 toRefs</h3><ul><li><p><strong>作用</strong>：创建一个 ref 对象，其value值指向另一个对象中的某个属性</p></li><li><p><strong>语法</strong>：const name = toRef(person,&#39;name&#39;)</p></li><li><p><strong>应用</strong>: 要将响应式对象中的某个属性单独提供给外部使用时</p></li><li><p><strong>扩展</strong>：toRefs与toRef功能一致，但可以批量创建多个 ref 对象，语法：toRefs(person)</p></li></ul><h3 id="shallowreactive-和-shallowref" tabindex="-1"><a class="header-anchor" href="#shallowreactive-和-shallowref" aria-hidden="true">#</a> shallowReactive 和 shallowRef</h3><ul><li><p>shallowReactive：只处理对象最外层属性的响应式（浅响应式）</p></li><li><p>shallowRef：只处理基本数据类型的响应式, 不进行对象的响应式处理(即没有利用<code>reactive</code>将对象类型进行响应式处理，而是直接将该对象放在<code>value</code>中)</p></li><li><p>什么时候使用?</p><ul><li>如果有一个对象数据，结构比较深, 但变化时只是外层属性变化 --&gt; shallowReactive</li><li>如果有一个对象数据，后续功能不会修改该对象中的属性，而是生成新的对象来替换 --&gt; shallowRef</li></ul></li></ul><h3 id="readonly-与-shallowreadonly" tabindex="-1"><a class="header-anchor" href="#readonly-与-shallowreadonly" aria-hidden="true">#</a> readonly 与 shallowReadonly</h3><ul><li>readonly: 让一个响应式数据变为只读的（深只读）,不改变数据的响应式类型</li><li>shallowReadonly：让一个响应式数据变为只读的（浅只读）</li><li>应用场景: 不希望数据被修改时</li></ul><h3 id="toraw-与-markraw" tabindex="-1"><a class="header-anchor" href="#toraw-与-markraw" aria-hidden="true">#</a> toRaw 与 markRaw</h3><ul><li>toRaw： <ul><li>作用：将一个由<code>reactive</code>生成的响应式对象转为普通对象(<code>ref对象不行</code>)。</li><li>使用场景：用于读取响应式对象对应的普通对象，对这个普通对象的所有操作，不会引起页面更新。</li></ul></li><li>markRaw： <ul><li>作用：标记一个对象，使其永远不会再成为响应式对象。</li><li>应用场景: 有些值不应被设置为响应式的，例如复杂的第三方类库等。 当渲染具有不可变数据源的大列表时，跳过响应式转换可以提高性能</li></ul></li></ul><h3 id="自定义ref-customref" tabindex="-1"><a class="header-anchor" href="#自定义ref-customref" aria-hidden="true">#</a> 自定义ref - customRef</h3><ul><li><p><strong>作用</strong>：创建一个自定义的 ref，并对其依赖项跟踪和更新触发进行显式控制</p></li><li><p><strong>参数</strong>: <code>customRef( track, trigger)</code></p><ul><li>track( ) : 使vue跟踪传入数据的变化</li><li>trigger( ) : 在数据修改后使vue重新解析模板</li><li><strong>注意事项：</strong><ol><li>在使用<code>customRef</code>自定义一个ref的时候，要注意我们需要将<code>customRef</code>的结果<strong>返回</strong>，不然我们在<code>customRef</code>内部的一切操作都毫无意义</li><li><code>customRef</code>函数<strong>接收一个回调</strong>,且<strong>该回调内部必须返回一个对象</strong>，对象内<strong>必须</strong>包含<code>getter</code>和<code>setter</code></li></ol></li></ul></li><li><p>自定义ref实现防抖效果案例：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 自定义ref <span class="token operator">--</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;msg&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span> msg <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>customRef <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">function</span> <span class="token function">myRef</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>delay<span class="token operator">=</span><span class="token number">500</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token function">customRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">track<span class="token punctuation">,</span> trigger</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">track</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 使vue跟踪value的改变</span>
              
            <span class="token keyword">return</span> value<span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function">set</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// timer不能定义在这里</span>
            <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 清理上一个定时器</span>
            timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
              value <span class="token operator">=</span> newValue<span class="token punctuation">;</span>
              <span class="token function">trigger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 数据修改完后触发vue重新解析模板</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> msg <span class="token operator">=</span> <span class="token function">myRef</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> msg <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="组件通信-provide-与-inject" tabindex="-1"><a class="header-anchor" href="#组件通信-provide-与-inject" aria-hidden="true">#</a> 组件通信 - provide 与 inject</h3><ul><li><p>作用：实现<strong>祖与后代组件间</strong>通信</p></li><li><p>套路：父组件有一个 <code>provide</code> API来提供数据，后代组件有一个 <code>inject</code> API来开始使用这些数据</p></li><li><p><code>provide(&quot;数据别名&quot;, 数据)</code>、<code>let data = inject(&#39;数据名&#39;)</code></p></li><li><p>具体写法：</p><ol><li>祖组件中：</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token operator">...</span><span class="token operator">...</span>
    <span class="token keyword">let</span> car <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&#39;奔驰&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">price</span><span class="token operator">:</span><span class="token string">&#39;40万&#39;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token function">provide</span><span class="token punctuation">(</span><span class="token string">&#39;car&#39;</span><span class="token punctuation">,</span>car<span class="token punctuation">)</span>
    <span class="token operator">...</span><span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>后代组件中：</li></ol><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>   <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>context</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   	<span class="token operator">...</span><span class="token operator">...</span>
       <span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&#39;car&#39;</span><span class="token punctuation">)</span>
       <span class="token keyword">return</span> <span class="token punctuation">{</span>car<span class="token punctuation">}</span>
   	<span class="token operator">...</span><span class="token operator">...</span>
   <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="响应式数据的判断" tabindex="-1"><a class="header-anchor" href="#响应式数据的判断" aria-hidden="true">#</a> 响应式数据的判断</h3><ul><li><strong>isRef</strong>: 检查一个值是否为一个 <code>ref 对象</code></li><li><strong>isReactive</strong>: 检查一个对象是否是由 <code>reactive</code> 创建的响应式代理</li><li><strong>isReadonly</strong>: 检查一个对象是否是由 <code>readonly</code> 创建的只读代理</li><li><strong>isProxy</strong>: 检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理</li></ul><h3 id="composition-api-的优势" tabindex="-1"><a class="header-anchor" href="#composition-api-的优势" aria-hidden="true">#</a> Composition API 的优势</h3><h4 id="options-api-存在的问题" tabindex="-1"><a class="header-anchor" href="#options-api-存在的问题" aria-hidden="true">#</a> Options API 存在的问题</h4><ul><li>使用传统OptionsAPI中，新增或者修改一个需求，就需要分别在data，methods，computed里修改</li></ul><h4 id="composition-api-的优势-1" tabindex="-1"><a class="header-anchor" href="#composition-api-的优势-1" aria-hidden="true">#</a> Composition API 的优势</h4><ul><li>我们可以更加优雅的组织我们的代码，函数。让相关功能的代码更加有序的组织在一起</li></ul><h3 id="新的组件" tabindex="-1"><a class="header-anchor" href="#新的组件" aria-hidden="true">#</a> 新的组件</h3><h4 id="fragment-组件" tabindex="-1"><a class="header-anchor" href="#fragment-组件" aria-hidden="true">#</a> Fragment 组件</h4><ul><li>在Vue2中: 组件必须有一个根标签</li><li>在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中</li><li>好处: 减少标签层级, 减小内存占用</li></ul><h4 id="teleport" tabindex="-1"><a class="header-anchor" href="#teleport" aria-hidden="true">#</a> Teleport</h4><ul><li><p>什么是Teleport？—— <code>Teleport</code> 是一种能够将我们的<strong>组件html结构</strong>移动到指定位置的技术</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>teleport to<span class="token operator">=</span><span class="token string">&quot;移动位置&quot;</span><span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">&quot;isShow&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;mask&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dialog&quot;</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>我是一个弹窗<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;isShow = false&quot;</span><span class="token operator">&gt;</span>关闭弹窗<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>teleport<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h4 id="suspense-实验性功能" tabindex="-1"><a class="header-anchor" href="#suspense-实验性功能" aria-hidden="true">#</a> Suspense&lt;实验性功能&gt;</h4><ul><li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p></li><li><p>使用步骤:</p><ol><li><p>异步引入组件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>defineAsyncComponent<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> Child <span class="token operator">=</span> <span class="token function">defineAsyncComponent</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#39;./components/Child.vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code>与 <code>fallback</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>我是App组件<span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span>Suspense<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>Child<span class="token operator">/</span><span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>fallback<span class="token operator">&gt;</span>
				<span class="token operator">&lt;</span>h3<span class="token operator">&gt;</span>加载中<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>h3<span class="token operator">&gt;</span>
			<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
		<span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></li></ul><h3 id="vue3其他改变" tabindex="-1"><a class="header-anchor" href="#vue3其他改变" aria-hidden="true">#</a> Vue3其他改变</h3><h4 id="全局api的转移" tabindex="-1"><a class="header-anchor" href="#全局api的转移" aria-hidden="true">#</a> 全局API的转移</h4><ul><li><p>Vue 2.x 有许多全局 API 和配置。</p><ul><li>例如：注册全局组件、注册全局指令等</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//注册全局组件</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&#39;MyButton&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;button @click=&quot;count++&quot;&gt;Clicked {{ count }} times.&lt;/button&gt;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//注册全局指令</span>
Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&#39;focus&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">inserted</span><span class="token operator">:</span> <span class="token parameter">el</span> <span class="token operator">=&gt;</span> el<span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Vue3.0中对这些API做出了调整：</p><ul><li><p>将全局的API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p><table><thead><tr><th style="text-align:center;"><strong>2.x 全局 API（</strong><code>Vue</code></th><th style="text-align:center;"><strong>3.x 实例 API (</strong><code>app</code><strong>)</strong></th></tr></thead><tbody><tr><td style="text-align:center;">Vue.config.xxxx</td><td style="text-align:center;">app.config.xxxx</td></tr><tr><td style="text-align:center;">Vue.config.productionTip</td><td style="text-align:center;"><strong>移除</strong></td></tr><tr><td style="text-align:center;">Vue.component</td><td style="text-align:center;">app.component</td></tr><tr><td style="text-align:center;">Vue.directive</td><td style="text-align:center;">app.directive</td></tr><tr><td style="text-align:center;">Vue.mixin</td><td style="text-align:center;">app.mixin</td></tr><tr><td style="text-align:center;">Vue.use</td><td style="text-align:center;">app.use</td></tr><tr><td style="text-align:center;">Vue.prototype</td><td style="text-align:center;">app.config.globalProperties</td></tr></tbody></table></li></ul></li></ul><h4 id="其他改变" tabindex="-1"><a class="header-anchor" href="#其他改变" aria-hidden="true">#</a> 其他改变</h4><ul><li><p>data选项应始终被声明为一个函数</p></li><li><p>过渡效果类名的更改</p><ul><li><p>Vue2.x的写法</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.v-enter,
.v-leave-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.v-leave,
.v-enter-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Vue3.x的写法</p><div class="language-css line-numbers-mode" data-ext="css"><pre class="language-css"><code><span class="token selector">.v-enter-from,
.v-leave-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.v-leave-from,
.v-enter-to</span> <span class="token punctuation">{</span>
  <span class="token property">opacity</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><strong>移除</strong><code>keyCode</code>作为 <code>v-on </code>的修饰符，同时也不再支持<code>config.keyCodes</code></p></li><li><p><strong>移除</strong><code>v-on.native</code>修饰符</p><ul><li><p>父组件中绑定事件</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>close</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleComponentEvent<span class="token punctuation">&quot;</span></span>
  <span class="token attr-name"><span class="token namespace">v-on:</span>click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleNativeClickEvent<span class="token punctuation">&quot;</span></span>
<span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>子组件中声明自定义事件</p><ul><li>父组件绑定了两个事件，子组件<strong>声明接收的就是自定义事件</strong>，<strong>没声明的就是原生事件</strong></li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
      <span class="token comment">// 父组件绑定了两个事件，子组件声明接收的就是自定义事件，没声明的就是原生事件</span>
    <span class="token literal-property property">emits</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;close&#39;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><strong>移除</strong>过滤器（filter）</p><blockquote><p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用<strong>方法调用或计算属性去替换过滤器</strong>。</p></blockquote></li><li><p>...</p></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1034668900@qq.com">FengCh</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-e588e973.js" defer></script>
  </body>
</html>
